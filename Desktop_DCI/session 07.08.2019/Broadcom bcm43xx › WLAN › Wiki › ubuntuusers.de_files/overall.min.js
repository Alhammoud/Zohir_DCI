/**
 * Inyoka ubuntuusers.de theme
 * 2019-04-13 20:08:06
 * https://github.com/inyokaproject/theme-ubuntuusers
 * :copyright: (c) 2007-2019 by the Inyoka Team
 * :license: BSD
 */
$(document).ready(function(){!function(){var a=$("<div>").appendTo("body").css({height:0,overflow:"hidden"});$.each([],function(){$("<img />").attr("src",$STATIC_URL+this).appendTo(a)})}(),$.each($("div.message"),function(a,b){$(b).prepend($('<a href="#" class="hide" />').click(function(){return $(this).parent().hasClass("global")&&$.post("/?__service__=portal.hide_global_message",{}),$(this).parent().slideUp("slow"),!1}))}),$("a.hide_searchwords").click(function(){return $(this).parent().slideUp("slow"),$("span.highlight").removeClass("highlight"),!1}),function(){function a(){window.addEventListener("unload",b,!1)}function b(){window.removeEventListener("unload",b,!1)}var c={portal:"Überall",forum:"Forum",ikhaya:"Ikhaya",planet:"Planet",wiki:"Wiki"},d=$("form.search").attr("data-active-app"),e=$('<ul class="search_area" />'),f=!1,g=$(".search_query");g.addClass("area_"+d),g.attr("placeholder",c[d]),document.getElementsByClassName("search")[0].onsubmit=function(){$("form.search input[name=q]").val(function(){var a=g.val();switch(d){case"forum":case"ikhaya":case"planet":case"wiki":return"site:"+d+"."+$BASE_DOMAIN_NAME+" "+a;default:return"site:"+$BASE_DOMAIN_NAME+" "+a}}),$("form.search input[name=host]").remove()};var h=$('<div class="search_expander" />');h.click(function(){f?e.toggle():(f=!0,$.each(c,function(a,b){var c=a,f=$("<li />").text(b);f.addClass("area_"+a),f.click(function(){g.removeClass("area_"+d),d=c,g.addClass("area_"+d),$("li.active",e).removeClass("active"),$(this).addClass("active"),g.attr("placeholder",b),g.focus(),e.toggle()}).appendTo(e),c===d&&f.addClass("active")}),e.prependTo("form.search"))}),$("form.search").append(h),$(document).click(function(a){"search_expander"!=a.target.className&&e.hide()}),window.addEventListener("pageshow",a,!1),window.addEventListener("unload",b,!1)}(),function(){var a=$(".navi_sidebar");if(a.length){var b=$('<button class="navi_toggle_up" title="Navigation ausblenden" />').click(function(){return $(".content").toggleClass("content_sidebar"),a.toggle(),b.toggleClass("navi_toggle_up").toggleClass("navi_toggle_down"),$IS_LOGGED_IN&&$.get("/?__service__=portal.toggle_sidebar",{hide:!a.is(":visible"),component:window.location.hostname.split(".")[0]}),!1}).insertAfter("form.search");$SIDEBAR_HIDDEN&&b.click()}}(),function(){var a=!1;$("form").submit(function(){return!!$(this).hasClass("nosubmitprotect")||!a&&($('input[type="submit"]').addClass("disabled"),void(a=!0))})}(),$(".package-list-apturl, .package-list").each(function(a,b){var c=$(".bash",b),d=c[0],e=c[1];$(e).hide(),$($("p",b)[0]).append($("<a>apt-get</a>").click(function(){$(this).parent().children().css("font-weight",""),$(this).css("font-weight","bold"),$(d).show(),$(e).hide()}).click()," ",$("<a>aptitude</a>").click(function(){$(this).parent().children().css("font-weight",""),$(this).css("font-weight","bold"),$(e).show(),$(d).hide()})),$(b).hasClass("package-list-apturl")&&$($("p",b)[0]).append(" ",$("<a>apturl</a>").attr("href","apt://"+$.trim($(d).text()).split(" ").slice(3).join(",")))}),$("div.code").add("pre.notranslate").each(function(){this.clientHeight<this.scrollHeight&&$(this).before('<div class="codeblock_resizer">vergrößern</div>').css("height","15em").css("max-height","none").data("original_height",this.clientHeight)}),function(){"konqueror"!=navigator.appName.toLowerCase()&&$(".codeblock_resizer").click(function(){$codeblock=$(this).next(),$codeblock.hasClass("codeblock_expanded")?($codeblock.removeClass("codeblock_expanded"),$codeblock.animate({height:$codeblock.data("original_height")},500),$(this).text("vergrößern")):($codeblock.addClass("codeblock_expanded"),$codeblock.animate({height:$codeblock[0].scrollHeight},500),$(this).text("verkleinern"))})}(),function(){var a=["karmic","lucid","maverick"],b=function(b){var c=$(b);return group=c.parent().parent(),version=c.text().toLowerCase(),group.find(".ppa-code").remove(),sel=group.find(".selector"),c.addClass("active").siblings("a").removeClass("active"),sel.after('<pre class="ppa-code">'+group.data("long_notation_text").replace(/VERSION/,version)+"</div></pre>"),$.inArray(version,a)>-1&&(sel.after('<p class="ppa-code">Für die <strong>sources.list</strong>:</p>'),sel.after('<p class="ppa-code">'+group.data("short_notation_text")+"</p>")),!1};$(".ppa-list-outer").each(function(){$this=$(this);var a,c=[];classes=this.className.split(/\s+/);for(var d=0;d<classes.length;d++)classes[d].match(/^ppa-version-/)&&(a=classes[d].slice(12),c.push(a));$this.data("short_notation_text",$this.find(".ppa-list-short-code .contents p").html()),$this.data("long_notation_text",$this.find(".ppa-list-long-code .contents pre").html()),$this.children(".contents").remove(),sel=$('<p class="selector">').appendTo($this),sel.prepend("<strong>Version: </strong>");for(var e=function(){return b(this)},d=0;d<c.length;d++)a=c[d],latest_link=$('<a href="#">').text(a.substr(0,1).toUpperCase()+a.substr(1)).click(e).appendTo(sel).after('<span class="linklist"> | </span>');latest_link.next(".linklist").remove(),b(latest_link[0])})}(),function(){var a=function(a){return version=$(a).text().toLowerCase(),$(a).addClass("active").siblings("a").removeClass("active"),sel=$(a).parent(),sel.siblings("pre").text(sel.data("deb-url-orig").replace(/VERSION/,version)),!1};$(".thirdpartyrepo-outer").each(function(){var b,c=[],d=function(){return a(this)};classes=this.className.split(/\s+/);for(var e=0;e<classes.length;e++)classes[e].match(/^thirdpartyrepo-version-/)&&(version=classes[e].slice(23),c.push(version));sel=$('<div class="selector">').insertBefore($(this).find(".contents pre")),sel.prepend("<strong>Version: </strong>").data("deb-url-orig",$(this).find(".contents pre").text());for(var e=0;e<c.length;e++)b=$('<a href="#">').text(c[e].substr(0,1).toUpperCase()+c[e].substr(1)).click(d).appendTo(sel).after('<span class="linklist"> | </span>');return b.next().remove(),a(b[0]),!0})}();var a=/admin_menu\=([01])/.exec(document.cookie),b=null!=a?a[1]:1;1==b?($(".admin_link").removeClass("admin_link").addClass("admin_link_js").show(),$("#admin_layer_button").addClass("highlight")):$(".admin_link").removeClass("admin_link").addClass("admin_link_js").hide(),$(".admin_link_hover").removeClass("admin_link_hover"),$("#admin_layer_button").click(function(){$(".admin_link_js").each(function(){"none"!=$(this).css("display")?$(this).fadeOut("fast",function(){$(this).hide()}):$(this).fadeIn("fast",function(){$(this).show()})}),b=0==b?1:0,1==b?$("#admin_layer_button").addClass("highlight"):$("#admin_layer_button").removeClass("highlight");var a=new Date,c=a.getTime()+31536e6;a.setTime(c);var d,e="expires="+a.toGMTString();d=$BASE_DOMAIN_NAME.indexOf(":")>0?"domain=."+$BASE_DOMAIN_NAME.substring(0,$BASE_DOMAIN_NAME.indexOf(":")):"domain=."+$BASE_DOMAIN_NAME,document.cookie="admin_menu="+b+"; "+e+"; "+d+"; path=/"}),$("#table-search").keyup(function(){var a=new RegExp($("#table-search").val(),"i"),b=$(".edit-forum-permissions tbody tr:gt(1)");b.each(function(b){title=$(this).children(":first-child").html(),title.search(a)!=-1?$(this).show():$(this).hide()})}),$(".edit-forum-permissions table").delegate("td","mouseover mouseleave",function(a){"mouseover"==a.type?($("colgroup").eq($(this).index()).addClass("hover"),$(":first-child th").eq($(this).index()+1).addClass("hover")):($("colgroup").eq($(this).index()).removeClass("hover"),$(":first-child th").eq($(this).index()+1).removeClass("hover"))})}),String.prototype.htmlEscape=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/,"&quot;")},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};